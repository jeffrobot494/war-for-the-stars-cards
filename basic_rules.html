<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>War for the Stars - Basic Rules</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: black;
            color: white;
            padding: 20px;
        }
        h1, h2 {
            text-align: center;
        }
        .section {
            margin-bottom: 40px;
            border-bottom: 2px solid #666;
            padding-bottom: 20px;
        }
        .image-container {
            text-align: center;
        }
        .image-container img {
            height: auto;
            display: inline-block;
            margin: 10px;
        }
    </style>
</head>
<body>
    <h1>War for the Stars - Basic Rules</h1>
    <div id="rules-content"></div>

    <script>
        async function loadRules() {
            try {
                const response = await fetch('basic_rules.txt');
                const text = await response.text();
                const lines = text.split('\n').map(line => line.trim());
                const contentDiv = document.getElementById('rules-content');
                let sectionHTML = "";
                let inSection = false;

                lines.forEach(line => {
                    if (/^\d+\.\s/.test(line)) {
                        // New Section
                        if (inSection) {
                            sectionHTML += "</div>";
                            contentDiv.innerHTML += sectionHTML;
                        }
                        sectionHTML = `<div class='section'><h2>${line}</h2>`;
                        inSection = true;
                    } else if (/\[(.*?)\]/.test(line)) {
                        // Image Handling
                        const match = line.match(/\[(.*?)(?:,\s*([0-9.]+))?\]/);
                        if (match) {
                            let imageUrl = match[1];
                            let scale = match[2] ? parseFloat(match[2]) * 100 : 50; // Default size 50%
                            sectionHTML += `<div class='image-container'><img src="${imageUrl}" style="width:${scale}%;"></div>`;
                        }
                    } else if (line.length > 0) {
                        // Regular Text
                        sectionHTML += `<p>${line}</p>`;
                    }
                });

                if (inSection) {
                    sectionHTML += "</div>";
                    contentDiv.innerHTML += sectionHTML;
                }
            } catch (error) {
                console.error('Error loading rules:', error);
            }
        }

        loadRules();
    </script>
</body>
</html>
